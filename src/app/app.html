<app-toolbar />

@if (store.error(); as err) {
  <div class="error" role="alert">{{ err }}</div>
}

<div
  class="workspace"
  [class.sidebar-collapsed]="isSidebarCollapsed()"
  [class.validation-collapsed]="isValidationCollapsed()"
>
  <div class="panel-left">
    <button
      #sidebarToggle
      type="button"
      class="collapse-toggle"
      [attr.aria-controls]="'layout-sidebar-panel'"
      [attr.aria-expanded]="!isSidebarCollapsed()"
      (click)="toggleSidebar()"
    >
      {{ isSidebarCollapsed() ? '▶ Menüs' : '◀ Menüs' }}
    </button>

    @if (!isSidebarCollapsed()) {
      <div id="layout-sidebar-panel" class="panel-content">
        <app-layout-sidebar />
      </div>
    }
  </div>

  <div class="left">
    <app-menu-properties />
    <app-button-properties />
  </div>

  <app-layout />

  <div class="panel-right">
    <button
      #validationToggle
      type="button"
      class="collapse-toggle"
      [attr.aria-controls]="'validation-panel'"
      [attr.aria-expanded]="!isValidationCollapsed()"
      (click)="toggleValidation()"
    >
      {{ isValidationCollapsed() ? '◀ Validierung' : 'Validierung ▶' }}
    </button>

    @if (!isValidationCollapsed()) {
      <div id="validation-panel" class="panel-content">
        <app-validation-panel />
      </div>
    }
  </div>
</div>
